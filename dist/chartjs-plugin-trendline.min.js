/*! For license information please see chartjs-plugin-trendline.min.js.LICENSE.txt */
(()=>{var t={460:(t,e)=>{const i={id:"chartjs-plugin-trendline",afterDatasetsDraw:t=>{let e,i;for(let s in t.scales)if("x"==s[0]?i=t.scales[s]:e=t.scales[s],i&&e)break;const a=t.ctx;t.data.datasets.forEach(((e,n)=>{const r=e.alwaysShowTrendline||t.isDatasetVisible(n);if(e.trendlineLinear&&r&&e.data.length>1){const r=t.getDatasetMeta(n);s(r,a,e,i,t.scales[r.yAxisID])}})),a.setLineDash([])}},s=(t,e,i,s,n)=>{let r=i.borderColor||"rgba(169,169,169, .6)",o=i.trendlineLinear.colorMin||r,l=i.trendlineLinear.colorMax||r,h=i.trendlineLinear.width||i.borderWidth,d=i.trendlineLinear.lineStyle||"solid",u=i.trendlineLinear.fillColor;const x="object"==typeof t.controller.chart.options.parsing?t.controller.chart.options.parsing:void 0,m=i.trendlineLinear.xAxisKey?i.trendlineLinear.xAxisKey:i.parsing.xAxisKey?i.parsing.xAxisKey:x?x.xAxisKey:"x",c=i.trendlineLinear.yAxisKey?i.trendlineLinear.yAxisKey:i.parsing.yAxisKey?i.parsing.yAxisKey:x?x.yAxisKey:"y";h=void 0!==h?h:3;let y=new a,p=i.data.findIndex((t=>null!=t)),f=i.data.length-1,X=t.data[p][m],g=t.data[f][m],w="object"==typeof i.data[p];i.data.forEach(((t,e)=>{if(null!=t)if(["time","timeseries"].includes(s.options.type)){let i=null!=t[m]?t[m]:t.t;void 0!==i?y.add(new Date(i).getTime(),t[c]):y.add(e,t)}else w?isNaN(t.x)||isNaN(t.y)?isNaN(t.x)?isNaN(t.y)||y.add(e,t.y):y.add(e,t.x):y.add(t.x,t.y):y.add(e,t)}));let L,Y,A=s.getPixelForValue(y.minx),P=n.getPixelForValue(y.f(y.minx));if(i.trendlineLinear.projection&&y.scale()<0){let t=y.fo();t<y.minx&&(t=y.maxx),L=s.getPixelForValue(t),Y=n.getPixelForValue(y.f(t))}else L=s.getPixelForValue(y.maxx),Y=n.getPixelForValue(y.f(y.maxx));w||(A=X,L=g);let b=t.controller.chart.chartArea.bottom,C=t.controller.chart.width;if(P>b){let t=P-b,e=P-Y;P=b,A+=C*(t/e)}else if(Y>b){let t=Y-b,e=Y-P;Y=b,L=C-(L-(C-C*(t/e)))}e.lineWidth=h,"dotted"===d?e.setLineDash([2,3]):"dashed"===d?e.setLineDash([8,3]):e.setLineDash([]),e.beginPath(),e.moveTo(A,P),e.lineTo(L,Y);let D=e.createLinearGradient(A,P,L,Y);Y<P?(D.addColorStop(0,l),D.addColorStop(1,o)):(D.addColorStop(0,o),D.addColorStop(1,l)),e.strokeStyle=D,e.stroke(),e.closePath(),u&&(e.fillStyle=u,e.beginPath(),e.moveTo(A,P),e.lineTo(L,Y),e.lineTo(L,b),e.lineTo(A,b),e.closePath(),e.fill())};class a{constructor(){this.count=0,this.sumX=0,this.sumX2=0,this.sumXY=0,this.sumY=0,this.minx=1e100,this.maxx=-1e100,this.maxy=-1e100}add(t,e){t=parseFloat(t),e=parseFloat(e),this.count++,this.sumX+=t,this.sumX2+=t*t,this.sumXY+=t*e,this.sumY+=e,t<this.minx&&(this.minx=t),t>this.maxx&&(this.maxx=t),e>this.maxy&&(this.maxy=e)}f(t){t=parseFloat(t);let e=this.count*this.sumX2-this.sumX*this.sumX;return(this.sumX2*this.sumY-this.sumX*this.sumXY)/e+t*((this.count*this.sumXY-this.sumX*this.sumY)/e)}fo(){let t=this.count*this.sumX2-this.sumX*this.sumX;return-(this.sumX2*this.sumY-this.sumX*this.sumXY)/t/((this.count*this.sumXY-this.sumX*this.sumY)/t)}scale(){let t=this.count*this.sumX2-this.sumX*this.sumX;return(this.count*this.sumXY-this.sumX*this.sumY)/t}}"undefined"!=typeof window&&window.Chart&&(window.Chart.hasOwnProperty("register")?window.Chart.register(i):window.Chart.plugins.register(i));try{t.exports=i}catch(t){}}},e={};!function i(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}(460)})();